#:kivy 1.10.1
#: import NoTransition kivy.uix.screenmanager.NoTransition

<AnchorGridCell@AnchorLayout>:
    anchor_x: 'center'
    anchor_y: 'center'
<SubmitButton@Button>:
    text: 'Submit'
    font_size: self.width / 8
    size_hint: .4, .1
<CancelButton@Button>:
    text: 'Cancel'
    font_size: self.width / 8
    size_hint: .4, .1
<MachineButton@Button>:
    font_size: self.width / 20
    text_size: self.size
    halign: 'center'
    valign: 'center'
<MachineStatusButton@Button>:
    font_size: self.width / 9
    text_size: self.size
    halign: 'center'
    valign: 'center'
    size_hint: .3, .06
<XButton@Button>:
    text: 'X'
    size_hint: None, None
<InputLabel@Label>:
    font_size: self.width / 10
    text_size: self.size
    halign: 'left'
    valign: 'center'
<OutputLabel@Label>:
    font_size: self.width / 10
    text_size: self.size
    halign: 'right'
    valign: 'center'
<TextCollection@TextInput>:
    multiline: False
    size_hint: 1, .7
    font_size: self.width / 9
    
<ScreenManager>
    transition: NoTransition()
<MainOverview>:
    FloatLayout:
        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'top'
            GridLayout:
                cols: 1
                row_force_default: True
                row_default_height: self.width / 13
                padding: self.width / 15
                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'bottom'
                    Label:
                        text: 'All Currently Added Machines'
                        text_size: self.size
                        font_size: self.width / 16
                        halign: 'center'
                        valign: 'bottom'
                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'top'
                    GridLayout:
                        cols: 1
                        row_force_default: True
                        row_default_height: self.width / 8
                        col_default_width: self.width / 4
                        padding: self.width / 25
                        spacing: self.width / 25, self.width / 50
                        AnchorGridCell:
                            MachineButton:
                                text: "Tsugami 5"
                                on_press:
                                    root.manager.current = 'MachineStatusPage'
                                    root.manager.current_screen.selectedMachine = self.text
                                    root.manager.current_screen.getCurrentJob()
                        AnchorGridCell:
                            MachineButton:
                                text: 'Tsugami 6'
                                on_press:
                                    root.manager.current = 'MachineStatusPage'
                                    root.manager.current_screen.selectedMachine = self.text
                                    root.manager.current_screen.getCurrentJob()
                        AnchorGridCell:
                            MachineButton:
                                text: 'Tsugami 7'
                                on_press:
                                    root.manager.current = 'MachineStatusPage'
                                    root.manager.current_screen.selectedMachine = self.text
                                    root.manager.current_screen.getCurrentJob()
                        AnchorGridCell:
                            MachineButton:
                                text: 'Tsugami 8'
                                on_press:
                                    root.manager.current = 'MachineStatusPage'
                                    root.manager.current_screen.selectedMachine = self.text
                                    root.manager.current_screen.getCurrentJob()
            AnchorLayout:
                anchor_x: 'right'
                anchor_y: 'bottom'
                MachineButton:
                    text: 'Add New Machine'
                    font_size: self.width / 8
                    size_hint: .4, .1
                    on_press: root.manager.current = 'AddMachinePage'
                                    
                                
<MachineStatusPage>:
    FloatLayout:
        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'top'
            GridLayout:
                cols: 1
                rows: 2
                row_force_default: True
                row_default_height: self.width / 13
                padding: self.width / 8
                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'bottom'
                    Label:
                        id: selectedMachine
                        text: root.selectedMachine
                        text_size: self.size
                        font_size: self.width / 12
                        halign: 'center'
                        valign: 'bottom'
                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'top'
                    GridLayout:
                        cols: 2
                        row_force_default: True
                        row_default_height: self.width / 6
                        col_default_width: self.width / 4
                        padding: self.width / 25
                        spacing: self.width / 25, self.width / 50
                        AnchorGridCell:
                            InputLabel:
                                text: 'Current Job: '
                        AnchorGridCell:
                            OutputLabel:
                                text: root.Part_Name
                        AnchorGridCell:
                            InputLabel:
                                text: 'Job Description'
                        AnchorGridCell:
                            OutputLabel:
                                text: root.Part_Desc
                        AnchorGridCell:
                            InputLabel:
                                text: 'Parts Remaining: '
                        AnchorGridCell:
                            OutputLabel:
                                text: root.Parts_Needed
                        AnchorGridCell:
                            InputLabel:
                                text: 'Time Per Part: '
                        AnchorGridCell:
                            OutputLabel:
                                text: root.Time_Per_Part
                        AnchorGridCell:
                            InputLabel:
                                text: 'Completion Time: '
                        AnchorGridCell:
                            OutputLabel:
                                text: root.Completion_Time
                        AnchorGridCell:
                            InputLabel:
                                text: 'Time Left: '
                        AnchorGridCell:
                            OutputLabel:
                                text: root.Time_Left
            AnchorLayout:
                anchor_x: 'left'
                anchor_y: 'bottom'
                Button:
                    text: 'Go Back'
                    font_size: self.width / 8
                    size_hint: .4, .1
                    on_press: root.manager.current = 'MainOverview'
            AnchorLayout:
                anchor_x: 'center'
                anchor_y: 'bottom'
                Button:
                    text: 'Edit Job'
                    font_size: self.width / 8
                    size_hint: .4, .1
                    on_press:
                        root.manager.current = 'AddJobPage'
                        root.manager.current_screen.selectedMachine = selectedMachine.text
                        root.manager.current_screen.Part_Name = root.Part_Name
                        root.manager.current_screen.Part_Desc = root.Part_Desc
                        root.manager.current_screen.Parts_Needed = root.Parts_Needed
                        root.manager.current_screen.Time_Per_Part = root.Time_Per_Part
                        root.manager.current_screen.Oal = root.Oal
                        root.manager.current_screen.Cut_Off_Width = root.Cut_Off_Width
                        root.manager.current_screen.Bar_Length = root.Bar_Length
                        root.manager.current_screen.Bar_Parameter = root.Bar_Parameter
            AnchorLayout:
                anchor_x: 'right'
                anchor_y: 'bottom'
                Button:
                    text: 'New Job'
                    font_size: self.width / 8
                    size_hint: .4, .1
                    on_press:
                        root.manager.current = 'AddJobPage'
                        root.manager.current_screen.selectedMachine = selectedMachine.text
                        root.manager.current_screen.Part_Name = ""
                        root.manager.current_screen.Part_Desc = ""
                        root.manager.current_screen.Parts_Needed = ""
                        root.manager.current_screen.Time_Per_Part = ""
                        root.manager.current_screen.Oal = ""
                        root.manager.current_screen.Cut_Off_Width = ""
                        root.manager.current_screen.Bar_Length = ""
                        root.manager.current_screen.Bar_Parameter = ""
                        
                    
                    
<AddJobPage>:
    FloatLayout:
        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'top'
            GridLayout:
                cols: 1
                rows: 2
                row_force_default: True
                row_default_height: self.width / 13
                padding: self.width / 15
                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'bottom'
                    Label:
                        text: root.selectedMachine + " " + "Add/Edit Job"
                        text_size: self.size
                        font_size: self.width / 12
                        halign: 'center'
                        valign: 'bottom'
                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'top'
                    GridLayout:
                        cols: 2
                        row_force_default: True
                        row_default_height: self.width / 8
                        col_default_width: self.width / 4
                        padding: self.width / 25
                        spacing: self.width / 25, self.width / 50
                        AnchorGridCell:
                            InputLabel:
                                text: 'Part Name/Num: '
                        AnchorGridCell:
                            TextCollection:
                                id: part_name
                                text: root.Part_Name
                        AnchorGridCell:
                            InputLabel:
                                text: 'Description: '
                        AnchorGridCell:
                            TextCollection:
                                id: part_desc
                                text: root.Part_Desc
                        AnchorGridCell:
                            InputLabel:
                                text: 'Parts Needed: '
                        AnchorGridCell:
                            TextCollection:
                                id: parts_needed
                                text: root.Parts_Needed
                        AnchorGridCell:
                            InputLabel:
                                text: 'Machining Time (sec): '
                        AnchorGridCell:
                            TextCollection:
                                id: time_per_part
                                text: root.Time_Per_Part
                        AnchorGridCell:
                            InputLabel:
                                text: 'OAL (in): '
                        AnchorGridCell:
                            TextCollection:
                                id: oal
                                text: root.Oal
                        AnchorGridCell:
                            InputLabel:
                                text: 'Cutoff Width (in): '
                        AnchorGridCell:
                            TextCollection:
                                id: cut_off_width
                                text: root.Cut_Off_Width
                        AnchorGridCell:
                            InputLabel:
                                text: 'Length Of Bar (in): '
                        AnchorGridCell:
                            TextCollection:
                                id: bar_length
                                text: root.Bar_Length
                        AnchorGridCell:
                            InputLabel:
                                text: 'Bar Remnant Parameter (in): '
                        AnchorGridCell:
                            TextCollection:
                                id: bar_parameter
                                text: root.Bar_Parameter
        AnchorLayout:
            anchor_x: 'left'
            anchor_y: 'bottom'
            CancelButton:
                on_press: root.manager.current = 'MachineStatusPage'
        AnchorLayout:
            anchor_x: 'right'
            anchor_y: 'bottom'
            SubmitButton:
                on_press:
                    root.Part_Name = part_name.text
                    root.Part_Desc = part_desc.text
                    root.Parts_Needed = parts_needed.text
                    root.Time_Per_Part = time_per_part.text
                    root.Oal = oal.text
                    root.Cut_Off_Width = cut_off_width.text
                    root.Bar_Length = bar_length.text
                    root.Bar_Parameter = bar_parameter.text
                    root.addNewJob()
                    root.manager.current = 'MachineStatusPage'
                    root.manager.current_screen.getCurrentJob()
                
  
<AddMachinePage>:
    FloatLayout:
        AnchorLayout:
            anchor_x: 'center'
            anchor_y: 'top'
            GridLayout:
                cols: 1
                rows: 2
                row_force_default: True
                row_default_height: self.width / 13
                padding: self.width / 15
                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'bottom'
                    Label:
                        text: 'New Machine'
                        text_size: self.size
                        font_size: self.width / 12
                        halign: 'center'
                        valign: 'bottom'
                AnchorLayout:
                    anchor_x: 'center'
                    anchor_y: 'top'
                    GridLayout:
                        cols: 2
                        row_force_default: True
                        row_default_height: self.width / 8
                        col_default_width: self.width / 4
                        padding: self.width / 25
                        spacing: self.width / 25, self.width / 50
                        AnchorGridCell:
                            InputLabel:
                                text: 'Name: '
                        AnchorGridCell:
                            TextCollection:
                        AnchorGridCell:
                            InputLabel:
                                text: 'Description: '
                        AnchorGridCell:
                            TextCollection:
                        AnchorGridCell:
                            InputLabel:
                                text: 'Type: '
                        AnchorGridCell:
                            TextCollection:
                        AnchorGridCell:
                            InputLabel:
                                text: 'Location: '
                        AnchorGridCell:
                            TextCollection:
                        AnchorGridCell:
                            InputLabel:
                                text: 'Color: '
                        AnchorGridCell:
                            TextCollection:
        AnchorLayout:
            anchor_x: 'left'
            anchor_y: 'bottom'
            CancelButton:
                on_press: root.manager.current = 'MainOverview'
        AnchorLayout:
            anchor_x: 'right'
            anchor_y: 'bottom'
            SubmitButton:
